{"openapi":"3.1.0","info":{"title":"GatherGrove Backend","version":"0.1.0"},"paths":{"/health":{"get":{"tags":["meta"],"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/firebase":{"get":{"tags":["meta"],"summary":"Firebase Ping","operationId":"firebase_ping_firebase_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/whoami":{"get":{"tags":["auth"],"summary":"Whoami","operationId":"whoami_whoami_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users":{"post":{"tags":["users"],"summary":"Create or update my user (owner-only upsert)","operationId":"upsert_my_user_users_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["users"],"summary":"Admin: list users","description":"Admin-only, simple pagination.","operationId":"admin_list_users_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"default":50,"title":"Page Size"}},{"name":"page_token","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Return results after this last seen user id","title":"Page Token"},"description":"Return results after this last seen user id"},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me":{"patch":{"tags":["users"],"summary":"Partially update my user (owner-only)","operationId":"patch_my_user_users_me_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPatch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["users"],"summary":"Get my user (owner-only)","operationId":"get_my_user_users_me_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{user_id}":{"get":{"tags":["users"],"summary":"Get user by ID (owner or admin)","operationId":"get_user_by_id_users__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{uid}":{"patch":{"tags":["users"],"summary":"PATCH by UID (owner or admin)","operationId":"patch_user_by_id_users__uid__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"uid","in":"path","required":true,"schema":{"type":"string","description":"User document id (uid)","title":"Uid"},"description":"User document id (uid)"},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPatch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/favorites":{"get":{"tags":["users"],"summary":"List my favorited households","operationId":"list_my_favorites_users_me_favorites_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me/favorites/{household_id}":{"post":{"tags":["users"],"summary":"Add a household to my favorites (idempotent)","operationId":"add_favorite_users_me_favorites__household_id__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"household_id","in":"path","required":true,"schema":{"type":"string","title":"Household Id"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Remove a household from my favorites (idempotent)","operationId":"remove_favorite_users_me_favorites__household_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"household_id","in":"path","required":true,"schema":{"type":"string","title":"Household Id"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/_dev/seed/household/{hid}":{"post":{"tags":["users"],"summary":"[DEV] create a dummy household","operationId":"dev_seed_household__dev_seed_household__hid__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"hid","in":"path","required":true,"schema":{"type":"string","title":"Hid"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events":{"post":{"tags":["events"],"summary":"Create an event (host = current user)","operationId":"create_event_events_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["events"],"summary":"List upcoming and happening-now events","description":"- Excludes expired events (expiresAt <= now)\n- Time-window logic (independent of stored `type` field):\n    * type=now     -> startAt <= now < endAt|expiresAt\n    * type=future  -> startAt > now\n    * omitted      -> both of the above; still excludes past/expired\n- Sorted by startAt ascending (fallback: createdAt, then now)\n- Pagination via nextPageToken (URL-safe base64 of 'ISO_START|ID')\n- Enrich each item with attendeeCount and isAttending","operationId":"list_events_events_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(now|future)$"},{"type":"null"}],"description":"Filter by time window","title":"Type"},"description":"Filter by time window"},{"name":"neighborhood","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter to a single neighborhood","title":"Neighborhood"},"description":"Filter to a single neighborhood"},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"enum":["neighborhood","playdate","help","pet","other"],"type":"string"},{"type":"null"}],"description":"Filter by category (neighborhood|playdate|help|pet|other)","title":"Category"},"description":"Filter by category (neighborhood|playdate|help|pet|other)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":20,"title":"Limit"}},{"name":"nextPageToken","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Opaque cursor from previous page","title":"Nextpagetoken"},"description":"Opaque cursor from previous page"},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/{event_id}":{"get":{"tags":["events"],"summary":"Get an event by ID","operationId":"get_event_events__event_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"string","description":"Event document id","title":"Event Id"},"description":"Event document id"},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["events"],"summary":"Edit an event (host-only)","operationId":"patch_event_events__event_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"string","title":"Event Id"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventPatch"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["events"],"summary":"Delete an event (host or admin)","operationId":"delete_event_events__event_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"string","title":"Event Id"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/events/{event_id}/rsvp":{"post":{"tags":["events"],"summary":"RSVP to an event (going/maybe/declined)","operationId":"rsvp_event_events__event_id__rsvp_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"string","title":"Event Id"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RSVPIn"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["events"],"summary":"Leave an event (remove RSVP)","operationId":"leave_event_events__event_id__rsvp_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"event_id","in":"path","required":true,"schema":{"type":"string","title":"Event Id"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/households":{"get":{"tags":["households"],"summary":"List households (filterable)","operationId":"list_households_households_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"neighborhood","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Neighborhood name","title":"Neighborhood"},"description":"Neighborhood name"},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"enum":["family","emptyNest","singleCouple"],"type":"string"},{"type":"null"}],"description":"family | emptyNest | singleCouple","title":"Type"},"description":"family | emptyNest | singleCouple"},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/people":{"get":{"tags":["people"],"summary":"People list (from households)","operationId":"list_people_people_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"neighborhood","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter to a single neighborhood","title":"Neighborhood"},"description":"Filter to a single neighborhood"},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"enum":["family","empty_nesters","singles_couples"],"type":"string"},{"type":"null"}],"description":"Household type","title":"Type"},"description":"Household type"},{"name":"ageMin","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":18,"minimum":0},{"type":"null"}],"title":"Agemin"}},{"name":"ageMax","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":18,"minimum":0},{"type":"null"}],"title":"Agemax"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1,"maxLength":64},{"type":"null"}],"description":"Last name starts-with","title":"Search"},"description":"Last name starts-with"},{"name":"pageToken","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Opaque cursor token","title":"Pagetoken"},"description":"Opaque cursor token"},{"name":"pageSize","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":20,"title":"Pagesize"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/people/{household_id}/favorite":{"post":{"tags":["people"],"summary":"Favorite a household (adds to user.favorites)","operationId":"favorite_household_people__household_id__favorite_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"household_id","in":"path","required":true,"schema":{"type":"string","title":"Household Id"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["people"],"summary":"Unfavorite a household (removes from user.favorites)","operationId":"unfavorite_household_people__household_id__favorite_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"household_id","in":"path","required":true,"schema":{"type":"string","title":"Household Id"}},{"name":"X-Uid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user UID","title":"X-Uid"},"description":"Dev-only: user UID"},{"name":"X-Email","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: user email","title":"X-Email"},"description":"Dev-only: user email"},{"name":"X-Admin","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dev-only: \"true\"/\"false\"","title":"X-Admin"},"description":"Dev-only: \"true\"/\"false\""}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"EventIn":{"properties":{"type":{"type":"string","enum":["now","future"],"title":"Type"},"title":{"type":"string","minLength":1,"title":"Title"},"details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Details"},"startAt":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Startat"},"endAt":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Endat"},"expiresAt":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expiresat"},"capacity":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Capacity"},"neighborhoods":{"items":{"type":"string"},"type":"array","title":"Neighborhoods"},"category":{"anyOf":[{"type":"string","enum":["neighborhood","playdate","help","pet","other"]},{"type":"null"}],"title":"Category","description":"One of: \"neighborhood\", \"playdate\", \"help\", \"pet\", \"other\""}},"additionalProperties":false,"type":"object","required":["type","title"],"title":"EventIn","description":"Input model. We accept a few alias spellings on input, and always serialize\nwith canonical camelCase on output. Internally, we use snake_case."},"EventPatch":{"properties":{"title":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Title"},"details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Details"},"startAt":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Startat"},"endAt":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Endat"},"expiresAt":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expiresat"},"capacity":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Capacity"},"neighborhoods":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Neighborhoods"},"category":{"anyOf":[{"type":"string","enum":["neighborhood","playdate","help","pet","other"]},{"type":"null"}],"title":"Category"}},"additionalProperties":false,"type":"object","title":"EventPatch"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"RSVPIn":{"properties":{"status":{"type":"string","enum":["going","maybe","declined"],"title":"Status"}},"type":"object","required":["status"],"title":"RSVPIn"},"UserIn":{"properties":{"name":{"type":"string","minLength":1,"title":"Name"},"isAdmin":{"type":"boolean","title":"Isadmin","default":false}},"type":"object","required":["name"],"title":"UserIn"},"UserPatch":{"properties":{"name":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Name"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"isAdmin":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Isadmin"}},"additionalProperties":false,"type":"object","title":"UserPatch"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}